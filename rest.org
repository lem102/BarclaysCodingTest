* rest :verb:

template http://localhost:5215
authorization: bearer {{(oref (verb-stored-response "token") body)}}

** login
:properties:
:Verb-Store: token
:end:

post /login
content-type: application/json

{
  "name": "{{(verb-json-get (oref (verb-stored-response "new-user") body) "name")}}",
  "password": "pass"
}

** users

*** create
:properties:
:Verb-Store: new-user
:end:

post /users
content-type: application/json

{
  "name": "userC",
  "password": "pass"
}

*** blah

{
  "id": "0198bb1c-32ab-7c45-b2d1-ef121f5cbd09",
  "name": "userA"
}

{
  "id": "0198bb1c-92e6-7546-ad73-0068e7b7ea75",
  "name": "userB"
}

*** get

get /users/{{(verb-json-get (oref (verb-stored-response "new-user") body) "id")}}

*** update

patch /users/{{(verb-json-get (oref (verb-stored-response "new-user") body) "id")}}
content-type: application/json

{
  "name": "jacobwozere"
}

*** delete

delete /users/{{(verb-json-get (oref (verb-stored-response "new-user") body) "id")}}

** bank account

*** create


